import("data:text/javascript;base64,Cg==");import{c as e,d as t,r as s,o as a,w as n,a as r,b as i,e as o,u as l,f as u,g as c,h as d,i as p,j as v,k as m,l as g,m as b,n as f}from"./vendor.8877b0e0.js";const y=u();var S=t({props:{inside:{type:String,default:"inside",required:!0},source:{type:String,default:""},title:{type:String,default:""},preamble:{type:String,default:""},version:{type:String,default:"16.6.0"}},emits:["update:inside","update:source","update:title","update:preamble","update:version"],setup(t,{emit:u}){const c=t,{inside:d,source:p,title:v,preamble:m,version:g}=function(t,s){const a={};for(const n in t)a[n]=e({get:()=>t[n],set(e){s(`update:${n}`,e)}});return a}(c,u),b=s(null),f=e({get:()=>g.value.trim().split(".").map(((e,t)=>0===t?e:"x")).join("."),set(e){g.value=e}});return a((async()=>{const e=window.RunKit.createNotebook({element:b.value,preamble:m.value,title:v.value,gutterStyle:d.value,source:p.value,nodeVersion:f.value});e.onLoad=async t=>{e.evaluate()},e.onSave=async()=>{e.getSource().then((e=>p.value=e)),e.getNodeVersion().then((e=>f.value=e))},n((()=>e.setSource(p.value))),n((()=>e.setTitle(v.value))),n((()=>e.setPreamble(m.value))),n((()=>e.setNodeVersion(f.value)))})),(e,t)=>(r(),i("pre",{class:"embed","data-gutter":l(d)},[o("div",{ref:b},null,512),y],8,["data-gutter"]))}});const h=f(t({setup(e){b.apiCache=!0;const t=c({source:"",inside:"inside",title:"",preamble:"",version:"16.6.0"});return d((async()=>{const e=p();e?v.getBlockAttr(e,"custom-config").then((e=>{if(e){const s=m(e.value);s?Object.assign(t,JSON.parse(s)):console.error("decode 失败, code:",e.value)}})).catch((e=>{console.error("查询config失败",e)})):console.error("获取当前挂件快id失败"),g()===g.env.siYuan&&n((()=>{v.setBlockAttrs({id:p(),attrs:{"custom-config":JSON.stringify(t)}}).then((e=>{}))}))})),(e,s)=>(r(),i(S,{source:l(t).source,"onUpdate:source":s[1]||(s[1]=e=>l(t).source=e),inside:l(t).inside,"onUpdate:inside":s[2]||(s[2]=e=>l(t).inside=e),title:l(t).title,"onUpdate:title":s[3]||(s[3]=e=>l(t).title=e),preamble:l(t).preamble,"onUpdate:preamble":s[4]||(s[4]=e=>l(t).preamble=e),version:l(t).version,"onUpdate:version":s[5]||(s[5]=e=>l(t).version=e)},null,8,["source","inside","title","preamble","version"]))}}));h.mount("#app"),h.config;
//# sourceMappingURL=index.f644d506.js.map
